<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/public.css">
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="app">
        <div class="form">
            <h2>欢迎注册</h2>
            <ul class="list">
                <li class="item">
                    <div class="left">
                        用户名:
                    </div>
                    <div class="right">
                        <input type="text" placeholder="请设置用户名" maxlength="12">
                        <p class="tag">
                            <img src="https://ppui-static-pc.cdn.bcebos.com/static/passpc-account/img/setpwd-success-2x.png" alt="">
                        </p>
                    </div>
                    <span class="info i1">用户名错误</span>
                </li>
                <li class="item">
                    <div class="left">
                        手机号:
                    </div>
                    <div class="right">
                        <input type="text" placeholder="请设置手机号">
                        <p class="tag">
                            <img src="https://ppui-static-pc.cdn.bcebos.com/static/passpc-account/img/setpwd-success-2x.png" alt="">
                        </p>
                    </div>
                    <span class="info i2">手机号错误</span>

                </li>
                <li class="item">
                    <div class="left">
                        身份证号:
                    </div>
                    <div class="right">
                        <input type="text" placeholder="请设置身份证号">
                        <p class="tag">
                            <img src="https://ppui-static-pc.cdn.bcebos.com/static/passpc-account/img/setpwd-success-2x.png" alt="">
                        </p>
                    </div>
                    <span class="info i3">身份证错误</span>
                </li>
                <li class="item">
                    <div class="left">
                        邮箱:
                    </div>
                    <div class="right">
                        <input type="text" placeholder="请设置邮箱">
                        <p class="tag">
                            <img src="https://ppui-static-pc.cdn.bcebos.com/static/passpc-account/img/setpwd-success-2x.png" alt="">
                        </p>
                    </div>
                    <span class="info i4">邮箱错误</span>
                </li>
                <li class="item">
                    <div class="left">
                        密码:
                    </div>
                    <div class="right">
                        <input type="text" placeholder="请设置密码">
                        <p class="tag">
                            <img src="https://ppui-static-pc.cdn.bcebos.com/static/passpc-account/img/setpwd-success-2x.png" alt="">
                        </p>
                    </div>
                    <span class="info i5">密码错误</span>
                </li>
                <li class="item">
                    <div class="left">
                        确认密码:
                    </div>
                    <div class="right">
                        <input type="text" placeholder="请在输入一次密码">
                        <p class="tag">
                            <img src="https://ppui-static-pc.cdn.bcebos.com/static/passpc-account/img/setpwd-success-2x.png" alt="">
                        </p>
                    </div>
                    <span class="info i6">所填写密码不匹配</span>
                </li>
                <li class="items">
                    <button>注册</button>
                </li>
            </ul>
        </div>
    </div>
    <script>
        var item = document.querySelectorAll('.item input')
        var info = document.querySelectorAll('.item .info')
        var tag = document.querySelectorAll('.item .tag')
        var btn  =document.querySelector('button')
        var reg1 = /^([\w|@|?|,|*]{5,12})$/
        var reg2 = /^(130|135|138|150|151|152|175|179])\d{8}$/
        var reg3 = /^(1[1-5]|2[1-3]|3[1-7]|4[1-6]|5[0-4]|6[1-5])\d{4}(1[0-9]|20)\d{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])\d{3}([0-9]|X|x)$/
        var reg4 = /^([1-9][0-9]{4,9}@qq.com|[A-z]\w{5,17}(@163.com|@sohu.com)|@126.com)$/
        var reg5 = /^(\w{10})$/

        
        item.forEach((val,index)=>{
            val.onfocus=(e)=>{
                item.forEach((t,j)=>{
                    t.classList.remove('bor')
                })
                val.classList.add('bor')
                tag[index].style.display = 'none'          
            }
            val.onblur=()=>{
                console.log(888)
                if(reg1.test(item[0].value.trim())&&reg2.test(item[1].value.trim())&&reg3.test(item[2].value.trim())&&reg4.test(item[3].value.trim())&&reg5.test(item[4].value.trim())&&item[5].value.trim()==item[4].value.trim()){
                    btn.classList.add('btncolo')
                    console.log('ccc')
                }else{
                    btn.classList.remove('btncolo')
                }
            }
        })
        item[0].onchange = () => {
            console.log(reg1.test(item[0].value.trim()))
            if (!reg1.test(item[0].value.trim())) {
                info[0].classList.add('flex')
                tag[0].style.display = 'none'
            } else {
                info[0].classList.remove('flex')
                tag[0].style.display = 'block'
            }
        }
        item[1].onchange = () => {
            console.log(reg2.test(item[1].value.trim()))
            if (!reg2.test(item[1].value.trim())) {
                info[1].classList.add('flex')
                tag[1].style.display = 'none'
            } else {
                info[1].classList.remove('flex')
                tag[1].style.display = 'block'
            }
        }
        item[2].onchange = () => {
            console.log(item[2].value.trim())
            console.log(reg3.test(item[2].value.trim()))
            if (reg3.test(item[2].value.trim()) == true) {
                console.log(111)
                info[2].classList.remove('flex')
                tag[2].style.display = 'block'
            } else {
                info[2].classList.add('flex')
                tag[2].style.display = 'none'
            }
        }
        item[3].onchange = () => {
            if (reg4.test(item[3].value.trim()) == true) {
                console.log(111)
                info[3].classList.remove('flex')
                tag[3].style.display = 'block'
            } else {
                info[3].classList.add('flex')
                tag[3].style.display = 'none'
            }
        }
        item[4].onchange = () => {
            console.log(item[4].value)
            if (reg5.test(item[4].value.trim()) == true) {
                console.log(111)
                info[4].classList.remove('flex')
                tag[4].style.display = 'block'
            } else {
                info[4].classList.add('flex')
                tag[4].style.display = 'none'
            }
        }
        item[5].onchange=()=>{
            if(reg5.test(item[4].value.trim())&&item[5].value.trim()==item[4].value.trim()){
                info[5].classList.remove('flex')
                tag[5].style.display = 'block'
            }else{
                info[5].classList.add('flex')
                tag[5].style.display = 'none'
            }
        }
        btn.onclick=()=>{
            if(btn.className=='btncolo'){
                alert('登录成功')
            }else{
                alert('请填写正确信息')
            }
        }
    </script>
</body>

</html>